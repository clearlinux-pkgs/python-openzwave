#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : python-openzwave
Version  : 0.4.9
Release  : 2
URL      : https://raw.githubusercontent.com/OpenZWave/python-openzwave/master/archives/python_openzwave-0.4.9.zip
Source0  : https://raw.githubusercontent.com/OpenZWave/python-openzwave/master/archives/python_openzwave-0.4.9.zip
Source1  : https://raw.githubusercontent.com/OpenZWave/python-openzwave/master/archives/open-zwave-master-0.4.9.zip
Summary  : python_openzwave is a python wrapper for the openzwave c++ library.
Group    : Development/Tools
License  : BSD-3-Clause GPL-3.0 ISC LGPL-2.0+ LGPL-2.1+ LGPL-3.0
Requires: python-openzwave-bin
Requires: python-openzwave-python3
Requires: python-openzwave-license
Requires: python-openzwave-python
Requires: PyDispatcher
BuildRequires : Cython
BuildRequires : PyDispatcher
BuildRequires : buildreq-distutils3
BuildRequires : libopenzwave-dev
BuildRequires : pip
BuildRequires : pkgconfig(libudev)
BuildRequires : pkgconfig(libusb-1.0)

%description
OpenZWave is an open-source, cross-platform library designed to enable anyone to
add support for Z-Wave home-automation devices to their applications, without 
requiring any in depth knowledge of the Z-Wave protocol.

Z-Wave employs a proprietary protocol which the owners, Sigma Designs, have 
chosen not to release into the public domain. There is also no official free 
or low-cost SDK that can be used to develop applications (The ControlThink SDK
is now tied exclusively to their own Z-Wave PC interface). The only way to 
obtain the protocol documentation and sample code is to purchase an expensive 
development kit, and sign a non-disclosure agreement (NDA) preventing the 
release of that knowledge.

OpenZWave was created to fill that gap. We do not have the official 
documentation, have signed no NDA, and are free to develop the library as we 
see fit. Our knowledge comes from existing bodies of open-source code 
(principally the Z-Wave parts of LinuxMCE), and through examining the 
messages sent by Z-Wave devices.

The goal of the project is to make a positive contribution to the Z-Wave 
community by creating a library that supports as much of the Z-Wave 
specification as possible, and that can be used as a "black-box" solution 
by anyone wanting to add Z-Wave to their application. It is NOT our aim 
to publish alternative documentation of the Z-Wave protocol, or to 
attempt to "punish" Sigma Designs for their decision to keep the 
protocol closed.

%package bin
Summary: bin components for the python-openzwave package.
Group: Binaries
Requires: python-openzwave-license

%description bin
bin components for the python-openzwave package.


%package doc
Summary: doc components for the python-openzwave package.
Group: Documentation

%description doc
doc components for the python-openzwave package.


%package license
Summary: license components for the python-openzwave package.
Group: Default

%description license
license components for the python-openzwave package.


%package python
Summary: python components for the python-openzwave package.
Group: Default
Requires: python-openzwave-python3

%description python
python components for the python-openzwave package.


%package python3
Summary: python3 components for the python-openzwave package.
Group: Default
Requires: python3-core

%description python3
python3 components for the python-openzwave package.


%prep
%setup -q -n python_openzwave
cd ..
%setup -q -T -D -n python_openzwave -b 1
mkdir -p openzwave-embed/open-zwave-master
mv %{_topdir}/BUILD/open-zwave-master/* %{_topdir}/BUILD/python_openzwave/openzwave-embed/open-zwave-master

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C
export SOURCE_DATE_EPOCH=1534701155
export CFLAGS="-O2 -g -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=32 -Wformat -Wformat-security -Wno-error   -Wl,-z,max-page-size=0x1000 -m64 -march=westmere -mtune=haswell"
export CXXFLAGS=$CFLAGS
unset LDFLAGS
python3 setup.py build -b py3

%install
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/doc/python-openzwave
cp openzwave-embed/open-zwave-master/cpp/hidapi/LICENSE-bsd.txt %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE-bsd.txt
cp openzwave-embed/open-zwave-master/cpp/hidapi/LICENSE-gpl3.txt %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE-gpl3.txt
cp openzwave-embed/open-zwave-master/cpp/hidapi/LICENSE-orig.txt %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE-orig.txt
cp openzwave-embed/open-zwave-master/cpp/hidapi/LICENSE.txt %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE.txt
cp openzwave-embed/open-zwave-master/debian/copyright %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_debian_copyright
cp openzwave-embed/open-zwave-master/license/gpl.txt %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_license_gpl.txt
cp openzwave-embed/open-zwave-master/license/license.txt %{buildroot}/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_license_license.txt
python3 -tt setup.py build -b py3 install --root=%{buildroot}
echo ----[ mark ]----
cat %{buildroot}/usr/lib/python3*/site-packages/*/requires.txt || :
echo ----[ mark ]----

%files
%defattr(-,root,root,-)

%files bin
%defattr(-,root,root,-)
/usr/bin/pyozw_check
/usr/bin/pyozw_shell

%files doc
%defattr(0644,root,root,0755)
%doc /usr/share/doc/python\-openzwave/*

%files license
%defattr(-,root,root,-)
/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE-bsd.txt
/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE-gpl3.txt
/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE-orig.txt
/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_cpp_hidapi_LICENSE.txt
/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_license_gpl.txt
/usr/share/doc/python-openzwave/openzwave-embed_open-zwave-master_license_license.txt

%files python
%defattr(-,root,root,-)

%files python3
%defattr(-,root,root,-)
/usr/lib/python3*/*
